{"swagger":"2.0","info":{"description":"\"Foresight Private REST API for clients\"","version":"2.0.0","title":"Foresight Private REST API","contact":{"name":"Foresight","url":"https://www.runforesight.com/","email":"info@runforesight.com"}},"host":"localhost:8084","basePath":"/","tags":[{"name":"badge-controller","description":"Badge Controller"},{"name":"metrics","description":"Metric Controller"},{"name":"processes","description":"Process Controller"},{"name":"projects","description":"Project Controller"},{"name":"repos","description":"Repo Controller"},{"name":"telemetry","description":"Telemetry Controller"},{"name":"workflows","description":"Workflow Step Controller"}],"schemes":["http","https"],"paths":{"/api/v1/badge/repository/{repoId}/pull-request/{prNumber}/testCount":{"get":{"tags":["badge-controller"],"summary":"pullRequestTestCountBadgeByRepoId","operationId":"pullRequestTestCountBadgeByRepoIdUsingGET","produces":["image/svg+xml"],"parameters":[{"name":"prNumber","in":"path","description":"prNumber","required":true,"type":"integer","format":"int64"},{"name":"repoId","in":"path","description":"repoId","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"type":"string"}}},"security":[{"ApiKey":["global"]}],"deprecated":false}},"/api/v1/badge/repository/{repoId}/pull-request/{prNumber}/testRunDuration":{"get":{"tags":["badge-controller"],"summary":"pullRequestTestRunTotalDuration","operationId":"pullRequestTestRunTotalDurationUsingGET","produces":["image/svg+xml"],"parameters":[{"name":"prNumber","in":"path","description":"prNumber","required":true,"type":"integer","format":"int64"},{"name":"repoId","in":"path","description":"repoId","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"type":"string"}}},"security":[{"ApiKey":["global"]}],"deprecated":false}},"/api/v1/badge/repository/{repoId}/pull-request/{prNumber}/workflowConclusion":{"get":{"tags":["badge-controller"],"summary":"pullRequestWorkflowConclusionsBadgeByRepoId","operationId":"pullRequestWorkflowConclusionsBadgeByRepoIdUsingGET","produces":["image/svg+xml"],"parameters":[{"name":"prNumber","in":"path","description":"prNumber","required":true,"type":"integer","format":"int64"},{"name":"repoId","in":"path","description":"repoId","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"type":"string"}}},"security":[{"ApiKey":["global"]}],"deprecated":false}},"/api/v1/badge/repository/{repoId}/pull-request/{prNumber}/workflowRunDuration":{"get":{"tags":["badge-controller"],"summary":"pullRequestWorkflowRunTotalDuration","operationId":"pullRequestWorkflowRunTotalDurationUsingGET","produces":["image/svg+xml"],"parameters":[{"name":"prNumber","in":"path","description":"prNumber","required":true,"type":"integer","format":"int64"},{"name":"repoId","in":"path","description":"repoId","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"type":"string"}}},"security":[{"ApiKey":["global"]}],"deprecated":false}},"/api/v1/badge/success":{"get":{"tags":["badge-controller"],"summary":"successBadgeByRepoId","operationId":"successBadgeByRepoIdUsingGET","produces":["image/svg+xml"],"parameters":[{"name":"branch","in":"query","description":"branch","required":false,"type":"string"},{"name":"repoId","in":"query","description":"repoId","required":true,"type":"string"},{"name":"workflowName","in":"query","description":"workflowName","required":false,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"type":"string"}}},"security":[{"ApiKey":["global"]}],"deprecated":false}},"/api/v1/badge/test":{"get":{"tags":["badge-controller"],"summary":"testSummaryBadgeByRepoId","operationId":"testSummaryBadgeByRepoIdUsingGET","produces":["image/svg+xml"],"parameters":[{"name":"branch","in":"query","description":"branch","required":false,"type":"string"},{"name":"repoId","in":"query","description":"repoId","required":true,"type":"string"},{"name":"workflowName","in":"query","description":"workflowName","required":false,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"type":"string"}}},"security":[{"ApiKey":["global"]}],"deprecated":false}},"/api/v1/badge/utilization":{"get":{"tags":["badge-controller"],"summary":"utilizationBadgeByRepoId","operationId":"utilizationBadgeByRepoIdUsingGET","produces":["image/svg+xml"],"parameters":[{"name":"branch","in":"query","description":"branch","required":false,"type":"string"},{"name":"repoId","in":"query","description":"repoId","required":true,"type":"string"},{"name":"workflowName","in":"query","description":"workflowName","required":false,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"type":"string"}}},"security":[{"ApiKey":["global"]}],"deprecated":false}},"/api/v1/projects":{"get":{"tags":["projects"],"summary":"getProjects","operationId":"getProjectsUsingGET","produces":["*/*"],"responses":{"200":{"description":"OK","schema":{"type":"array","items":{"$ref":"#/definitions/ProjectSummaryDto"}}}},"security":[{"ApiKey":["global"]}],"deprecated":false},"post":{"tags":["projects"],"summary":"createProject","operationId":"createProjectUsingPOST","consumes":["application/json"],"produces":["*/*"],"parameters":[{"in":"body","name":"projectDto","description":"projectDto","required":true,"schema":{"$ref":"#/definitions/CreateUpdateProjectDto"}}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/ProjectSummaryDto"}}},"security":[{"ApiKey":["global"]}],"deprecated":false}},"/api/v1/projects/{id}":{"get":{"tags":["projects"],"summary":"getProject","operationId":"getProjectUsingGET","produces":["*/*"],"parameters":[{"name":"id","in":"path","description":"id","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/ProjectSummaryDto"}}},"security":[{"ApiKey":["global"]}],"deprecated":false},"put":{"tags":["projects"],"summary":"updateProject","operationId":"updateProjectUsingPUT","consumes":["application/json"],"produces":["*/*"],"parameters":[{"in":"body","name":"dto","description":"dto","required":true,"schema":{"$ref":"#/definitions/CreateUpdateProjectDto"}},{"name":"id","in":"path","description":"id","required":true,"type":"string"}],"responses":{"200":{"description":"OK"}},"security":[{"ApiKey":["global"]}],"deprecated":false},"delete":{"tags":["projects"],"summary":"deleteProject","operationId":"deleteProjectUsingDELETE","produces":["*/*"],"parameters":[{"name":"id","in":"path","description":"id","required":true,"type":"string"}],"responses":{"200":{"description":"OK"}},"security":[{"ApiKey":["global"]}],"deprecated":false}},"/api/v1/repos/{provider}":{"get":{"tags":["repos"],"summary":"getAllRepos","operationId":"getAllReposUsingGET","produces":["*/*"],"parameters":[{"name":"provider","in":"path","description":"provider","required":true,"type":"string","enum":["GIT","GITHUB","GITLAB","BITBUCKET","AZURE","TRAVISCI","CIRCLECI","JENKINS","CODEBUILD"]}],"responses":{"200":{"description":"OK","schema":{"type":"array","items":{"$ref":"#/definitions/RepoSummaryDto"}}}},"security":[{"ApiKey":["global"]}],"deprecated":false}},"/api/v1/repos/{provider}/project/{projectId}":{"get":{"tags":["repos"],"summary":"getAllWatchedRepos","operationId":"getAllWatchedReposUsingGET","produces":["*/*"],"parameters":[{"name":"projectId","in":"path","description":"projectId","required":true,"type":"string"},{"name":"provider","in":"path","description":"provider","required":true,"type":"string","enum":["GIT","GITHUB","GITLAB","BITBUCKET","AZURE","TRAVISCI","CIRCLECI","JENKINS","CODEBUILD"]}],"responses":{"200":{"description":"OK","schema":{"type":"array","items":{"$ref":"#/definitions/RepoSummaryDto"}}}},"security":[{"ApiKey":["global"]}],"deprecated":false}},"/api/v1/repos/{provider}/unwatch":{"patch":{"tags":["repos"],"summary":"unwatchRepo","operationId":"unwatchRepoUsingPATCH","consumes":["application/json"],"produces":["*/*"],"parameters":[{"in":"body","name":"dto","description":"dto","required":true,"schema":{"$ref":"#/definitions/UnwatchRepoDto"}},{"name":"provider","in":"path","description":"provider","required":true,"type":"string","enum":["GIT","GITHUB","GITLAB","BITBUCKET","AZURE","TRAVISCI","CIRCLECI","JENKINS","CODEBUILD"]}],"responses":{"200":{"description":"OK"}},"security":[{"ApiKey":["global"]}],"deprecated":false}},"/api/v1/repos/{provider}/watch":{"put":{"tags":["repos"],"summary":"watchRepo","operationId":"watchRepoUsingPUT","consumes":["application/json"],"produces":["*/*"],"parameters":[{"in":"body","name":"dto","description":"dto","required":true,"schema":{"$ref":"#/definitions/WatchRepoDto"}},{"name":"provider","in":"path","description":"provider","required":true,"type":"string","enum":["GIT","GITHUB","GITLAB","BITBUCKET","AZURE","TRAVISCI","CIRCLECI","JENKINS","CODEBUILD"]}],"responses":{"200":{"description":"OK"}},"security":[{"ApiKey":["global"]}],"deprecated":false}},"/api/v1/telemetry/metrics":{"post":{"tags":["telemetry"],"summary":"handleDoMetrics","operationId":"handleDoMetricsUsingPOST","consumes":["application/json"],"produces":["*/*"],"parameters":[{"in":"body","name":"workflowTelemetryRequest","description":"workflowTelemetryRequest","required":true,"schema":{"$ref":"#/definitions/WorkflowTelemetryRequest"}}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/CompletableFutureOfVoid"}}},"security":[{"ApiKey":["global"]}],"deprecated":false}},"/api/v1/telemetry/processes":{"post":{"tags":["telemetry"],"summary":"handleDoProcesses","operationId":"handleDoProcessesUsingPOST","consumes":["application/json"],"produces":["*/*"],"parameters":[{"in":"body","name":"workflowTelemetryRequest","description":"workflowTelemetryRequest","required":true,"schema":{"$ref":"#/definitions/WorkflowTelemetryRequest"}}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/CompletableFutureOfVoid"}}},"security":[{"ApiKey":["global"]}],"deprecated":false}},"/api/workflow-runs/{workflowRunId}/jobs/{jobId}/metrics/cpu":{"get":{"tags":["metrics"],"summary":"getJobCPUMetrics","operationId":"getJobCPUMetricsUsingGET","produces":["*/*"],"parameters":[{"name":"jobId","in":"path","description":"jobId","required":true,"type":"string"},{"name":"workflowRunId","in":"path","description":"workflowRunId","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/WorkflowJobMetricDtoOfCPUMetricDto"}}},"security":[{"ApiKey":["global"]}],"deprecated":false}},"/api/workflow-runs/{workflowRunId}/jobs/{jobId}/metrics/disk":{"get":{"tags":["metrics"],"summary":"getJobDiskMetrics","operationId":"getJobDiskMetricsUsingGET","produces":["*/*"],"parameters":[{"name":"jobId","in":"path","description":"jobId","required":true,"type":"string"},{"name":"workflowRunId","in":"path","description":"workflowRunId","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/WorkflowJobMetricDtoOfDiskMetricDto"}}},"security":[{"ApiKey":["global"]}],"deprecated":false}},"/api/workflow-runs/{workflowRunId}/jobs/{jobId}/metrics/memory":{"get":{"tags":["metrics"],"summary":"getJobMemoryMetrics","operationId":"getJobMemoryMetricsUsingGET","produces":["*/*"],"parameters":[{"name":"jobId","in":"path","description":"jobId","required":true,"type":"string"},{"name":"workflowRunId","in":"path","description":"workflowRunId","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/WorkflowJobMetricDtoOfMemoryMetricDto"}}},"security":[{"ApiKey":["global"]}],"deprecated":false}},"/api/workflow-runs/{workflowRunId}/jobs/{jobId}/metrics/network":{"get":{"tags":["metrics"],"summary":"getJobNetworkMetrics","operationId":"getJobNetworkMetricsUsingGET","produces":["*/*"],"parameters":[{"name":"jobId","in":"path","description":"jobId","required":true,"type":"string"},{"name":"workflowRunId","in":"path","description":"workflowRunId","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/WorkflowJobMetricDtoOfNetworkMetricDto"}}},"security":[{"ApiKey":["global"]}],"deprecated":false}},"/api/workflow-runs/{workflowRunId}/jobs/{jobId}/processes":{"get":{"tags":["processes"],"summary":"getJobProcesses","operationId":"getJobProcessesUsingGET","produces":["*/*"],"parameters":[{"name":"jobId","in":"path","description":"jobId","required":true,"type":"string"},{"name":"sort","in":"query","description":"sort","required":false,"type":"string","enum":["FAILURE","DURATION"]},{"name":"workflowRunId","in":"path","description":"workflowRunId","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"type":"array","items":{"$ref":"#/definitions/ProcessDto"}}}},"security":[{"ApiKey":["global"]}],"deprecated":false}},"/api/workflow-runs/{workflowRunId}/jobs/{jobId}/spans":{"get":{"tags":["processes"],"summary":"getJobProcessSpans","operationId":"getJobProcessSpansUsingGET","produces":["*/*"],"parameters":[{"name":"jobId","in":"path","description":"jobId","required":true,"type":"string"},{"name":"sort","in":"query","description":"sort","required":false,"type":"string","enum":["FAILURE","DURATION"]},{"name":"workflowRunId","in":"path","description":"workflowRunId","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"type":"array","items":{"$ref":"#/definitions/SpanDto"}}}},"security":[{"ApiKey":["global"]}],"deprecated":false}},"/api/workflows/{workflowId}/step/history":{"post":{"tags":["workflows"],"summary":"getWorkflowStepHistories","operationId":"getWorkflowStepHistoriesUsingPOST","consumes":["application/json"],"produces":["*/*"],"parameters":[{"in":"body","name":"requestDto","description":"requestDto","required":true,"schema":{"$ref":"#/definitions/WorkflowStepHistoryRequestDto"}},{"name":"workflowId","in":"path","description":"workflowId","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"type":"array","items":{"$ref":"#/definitions/WorkflowStepHistoryDto"}}}},"security":[{"ApiKey":["global"]}],"deprecated":false}}},"securityDefinitions":{"ApiKey":{"type":"apiKey","name":"Authorization","in":"header"}},"definitions":{"AttributeDto":{"type":"object","properties":{"booleanValue":{"type":"boolean"},"doubleValue":{"type":"number","format":"double"},"key":{"type":"string"},"longValue":{"type":"integer","format":"int64"},"objectValue":{"type":"object"},"stringValue":{"type":"string"}},"title":"AttributeDto"},"CPUMetricDto":{"type":"object","properties":{"cpuLoadSystem":{"type":"number","format":"double"},"cpuLoadTotal":{"type":"number","format":"double"},"cpuLoadUser":{"type":"number","format":"double"}},"title":"CPUMetricDto"},"CompletableFutureOfVoid":{"type":"object","properties":{"cancelled":{"type":"boolean"},"completedExceptionally":{"type":"boolean"},"done":{"type":"boolean"},"numberOfDependents":{"type":"integer","format":"int32"}},"title":"CompletableFutureOfVoid"},"CreateUpdateProjectDto":{"type":"object","properties":{"description":{"type":"string"},"projectName":{"type":"string"}},"title":"CreateUpdateProjectDto"},"DiskMetricDto":{"type":"object","properties":{"diskIORxMb":{"type":"integer","format":"int64"},"diskIOWxMb":{"type":"integer","format":"int64"}},"title":"DiskMetricDto"},"EventDto":{"type":"object","properties":{"name":{"type":"string"},"time":{"type":"integer","format":"int64"}},"title":"EventDto"},"MemoryMetricDto":{"type":"object","properties":{"memoryUsageActive":{"type":"number","format":"double"},"memoryUsageAvailable":{"type":"number","format":"double"},"memoryUsageTotal":{"type":"number","format":"double"}},"title":"MemoryMetricDto"},"NetworkMetricDto":{"type":"object","properties":{"networkIORxMb":{"type":"integer","format":"int64"},"networkIOTxMb":{"type":"integer","format":"int64"}},"title":"NetworkMetricDto"},"ProcessDto":{"type":"object","properties":{"args":{"type":"array","items":{"type":"string"}},"domain":{"type":"string"},"duration":{"type":"integer","format":"int64"},"exitCode":{"type":"integer","format":"int32"},"fileName":{"type":"string"},"id":{"type":"integer","format":"int32"},"kind":{"type":"string"},"name":{"type":"string"},"parentId":{"type":"integer","format":"int32"},"startTime":{"type":"integer","format":"int64"},"tags":{"type":"object"},"userId":{"type":"integer","format":"int32"}},"title":"ProcessDto"},"ProjectSummaryDto":{"type":"object","properties":{"createdAt":{"type":"integer","format":"int64"},"description":{"type":"string"},"id":{"type":"string"},"projectName":{"type":"string"}},"title":"ProjectSummaryDto"},"RepoSummaryDto":{"type":"object","properties":{"defaultBranch":{"type":"string"},"fullName":{"type":"string"},"name":{"type":"string"},"owner":{"type":"string"}},"title":"RepoSummaryDto"},"SpanDto":{"type":"object","properties":{"attributes":{"type":"array","items":{"$ref":"#/definitions/AttributeDto"}},"duration":{"type":"integer","format":"int64"},"events":{"type":"array","items":{"$ref":"#/definitions/EventDto"}},"finishTime":{"type":"integer","format":"int64"},"kind":{"type":"integer","format":"int32"},"name":{"type":"string"},"organizationId":{"type":"string"},"parentSpanId":{"type":"string"},"repoId":{"type":"string"},"spanId":{"type":"string"},"startTime":{"type":"integer","format":"int64"},"status":{"$ref":"#/definitions/SpanStatus"},"traceId":{"type":"string"},"userAccountId":{"type":"string"},"workflowRunId":{"type":"string"}},"title":"SpanDto"},"SpanStatus":{"type":"object","properties":{"code":{"type":"integer","format":"int32"},"message":{"type":"string"}},"title":"SpanStatus"},"UnwatchRepoDto":{"type":"object","properties":{"projectId":{"type":"string"},"repoFullName":{"type":"string"}},"title":"UnwatchRepoDto"},"WatchRepoDto":{"type":"object","properties":{"projectId":{"type":"string"},"repoFullName":{"type":"string"}},"title":"WatchRepoDto"},"WorkflowJobMetricDtoOfCPUMetricDto":{"type":"object","properties":{"metrics":{"type":"object","additionalProperties":{"$ref":"#/definitions/CPUMetricDto"}}},"title":"WorkflowJobMetricDtoOfCPUMetricDto"},"WorkflowJobMetricDtoOfDiskMetricDto":{"type":"object","properties":{"metrics":{"type":"object","additionalProperties":{"$ref":"#/definitions/DiskMetricDto"}}},"title":"WorkflowJobMetricDtoOfDiskMetricDto"},"WorkflowJobMetricDtoOfMemoryMetricDto":{"type":"object","properties":{"metrics":{"type":"object","additionalProperties":{"$ref":"#/definitions/MemoryMetricDto"}}},"title":"WorkflowJobMetricDtoOfMemoryMetricDto"},"WorkflowJobMetricDtoOfNetworkMetricDto":{"type":"object","properties":{"metrics":{"type":"object","additionalProperties":{"$ref":"#/definitions/NetworkMetricDto"}}},"title":"WorkflowJobMetricDtoOfNetworkMetricDto"},"WorkflowStepDto":{"type":"object","properties":{"completedAt":{"type":"integer","format":"int64"},"conclusion":{"type":"string","enum":["ACTION_REQUIRED","CANCELLED","FAILURE","NEUTRAL","SUCCESS","SKIPPED","STALE","TIMED_OUT","UNKNOWN"]},"duration":{"type":"integer","format":"int64"},"id":{"type":"string"},"name":{"type":"string"},"number":{"type":"integer","format":"int64"},"startedAt":{"type":"integer","format":"int64"},"status":{"type":"string","enum":["QUEUED","IN_PROGRESS","COMPLETED","UNKNOWN"]}},"title":"WorkflowStepDto"},"WorkflowStepHistoryDto":{"type":"object","properties":{"jobName":{"type":"string"},"stepName":{"type":"string"},"stepNumber":{"type":"string"},"workflowStepDtoList":{"type":"array","items":{"$ref":"#/definitions/WorkflowStepDto"}}},"title":"WorkflowStepHistoryDto"},"WorkflowStepHistoryRequestDto":{"type":"object","properties":{"endTime":{"type":"integer","format":"int64"},"jobName":{"type":"string"},"size":{"type":"integer","format":"int32"},"startTime":{"type":"integer","format":"int64"}},"title":"WorkflowStepHistoryRequestDto"},"WorkflowTelemetryRequest":{"type":"object","properties":{"metaData":{"type":"object"},"telemetryData":{"type":"object"}},"title":"WorkflowTelemetryRequest"}}}